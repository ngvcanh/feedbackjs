"use strict";var r={URLServer:"http://localhost/feedbackjs/api/phpmysql.php",MilisecondsShowMessage:2e3,AJAXSuccess:function(e){try{var t=JSON.parse(e);t.error?d(t.error.message):(d(t.data,"success"),T())}catch(e){d(e.message)}},AJAXError:function(e){d(e)},BeforeAJAX:function(e){e.append("location",window.location.host)},Headers:{s:"ge2wJZfY9U9XMex7WDKbN6wzakoHrK01",a:"B8f1bAz419fvqGtDOW853eAI"},EnableUseLocalStorage:!0,LocalItemName:"FTFB_Feedback_FormData",FeedbackDefaultShow:!1,FeedbackBoxWidth:"300px",FeedbackBoxHeight:"450px",FeedbackBoxLayer:999999,FeedbackPositionX:"left",FeedbackPositionY:"top",FeedbackBackgroundColor:"#fff",FeedbackBorderColor:"#5ca2e0",FeedbackHeadBackgroundColor:"#5ca2e0",FeedbackHeadTextColor:"#fff",FeedbackHeadHeight:"30px",FeedbackHeadTextSize:"16px",FeedbackIconSize:"16px",FeedbackShowScrollBarY:!0,FeedbackShowScrollBarX:!1,FeedbackDistanceRows:"15px",FeedbackTextboxBorderColor:"#5ca2e0",FeedbackTextboxBackgroundColor:"#fff",FeedbackButtonBackgroundColor:"#5ca2e0",FeedbackButtonTextColor:"#fff",FeedbackMessagePosition:"bottom"},o=[{name:"Function",tags:[{tag:"textbox",attr:{type:"text",name:"funcs",placeholder:"Enter function..."}}]},{name:"Link",tags:[{tag:"textbox",attr:{type:"text",name:"links",placeholder:"Enter link..."}}]},{name:"Username",tags:[{tag:"textbox",attr:{type:"text",name:"username",placeholder:"Enter Username..."}}]},{name:"Description",tags:[{tag:"textarea",attr:{name:"description",rows:7,placeholder:"Enter description detail..."}}]},{name:"Attachment",tags:[{tag:"textbox",attr:{type:"file",name:"attach[]",multiple:!0}}]},{tags:[{tag:"button",value:"Feedback",attr:{type:"submit"}},{tag:"button",value:"Clear",attr:{type:"button"},events:{click:"_clearButton"}}]}],i={c:r,w:window.innerWidth,h:window.innerHeight,t:function(e){return/%$/g.test(e)},i:function(e){return parseInt(e.replace(/%|px/g,""))},s:function(e,t){return e+(!0===t?0:"px")},p:function(e,t){return this.s(parseInt(this.t(e)?this.i(e)*this.w/100:this.i(e)),t)},fbPosX:function(){return"left"===this.c.FeedbackPositionX?"left":"right"},fbPosY:function(){return"top"===this.c.FeedbackPositionY?"top":"bottom"},fbWidth:function(e){return this.p(/^[1-9](%|px|(0(0?%|\dpx)|[1-9](%|\dpx)))$/g.test(this.c.FeedbackBoxWidth)?this.c.FeedbackBoxWidth:"300px",e)},fbHeight:function(e){return this.p(/^[1-9](%|px|(0(0?%|\dpx)|[1-9](%|\dpx)))$/g.test(this.c.FeedbackBoxHeight)?this.c.FeedbackBoxHeight:"450px",e)},fbLayer:function(){return/^\d{1,6}$/g.test(this.c.FeedbackBoxLayer)?this.c.FeedbackBoxLayer:999999},fbBdrCor:function(){return/^#([\da-f]{3}){1,2}$/gi.test(this.c.FeedbackBorderColor)?this.c.FeedbackBorderColor:"#5ca2e0"},fbBgCor:function(){return/^#([\da-f]{3}){1,2}$/gi.test(this.c.FeedbackBackgroundColor)?this.c.FeedbackBackgroundColor:"#fff"},fbHBgCor:function(){return/^#([\da-f]{3}){1,2}$/gi.test(this.c.FeedbackHeadBackgroundColor)?this.c.FeedbackHeadBackgroundColor:"#5ca2e0"},fbHHeight:function(e){return this.p(/^[1-9]\dpx$/g.test(this.c.FeedbackHeadHeight)?this.c.FeedbackHeadHeight:"30px",e)},fbHTxtCor:function(){return/^#([\da-f]{3}){1,2}$/gi.test(this.c.FeedbackHeadTextColor)?this.c.FeedbackHeadTextColor:"#fff"},fbHTxtSz:function(e){return this.p(/^[12]\dpx$/g.test(this.c.FeedbackHeadTextSize)?this.c.FeedbackHeadTextSize:"16px",e)},fbHIcoSz:function(e){return this.p(/^(1\d|20)px$/g.test(this.c.FeedbackIconSize)?this.c.FeedbackIconSize:"16px",e)},fbFmHeight:function(e){return this.s(this.fbHeight(!0)-this.fbHHeight(!0)-2,e)},fbScrollX:function(){return!0===this.c.FeedbackShowScrollBarY?";overflow-x:auto":""},fbScrollY:function(){return!0===this.c.FeedbackShowScrollBarY?";overflow-y:auto":""},fbDstRw:function(e){return this.p(/^([12]\d|30)px$/g.test(this.c.FeedbackDistanceRows)?this.c.FeedbackDistanceRows:"15px",e)},fbTbBdrCor:function(){return/^#([\da-f]{3}){1,2}$/gi.test(this.c.FeedbackTextboxBorderColor)?this.c.FeedbackTextboxBorderColor:"#5ca2e0"},fbTbBgCor:function(){return/^#([\da-f]{3}){1,2}$/gi.test(this.c.FeedbackTextboxBackgroundColor)?this.c.FeedbackTextboxBackgroundColor:"#fff"},fbBtnBgCor:function(){return/^#([\da-f]{3}){1,2}$/gi.test(this.c.FeedbackButtonBackgroundColor)?this.c.FeedbackButtonBackgroundColor:"#5ca2e0"},fbBtnBdrCor:function(){return/^#([\da-f]{3}){1,2}$/gi.test(this.c.FeedbackButtonBackgroundColor)?this.c.FeedbackButtonBackgroundColor:"#5ca2e0"},fbBtnTxtCor:function(){return/^#([\da-f]{3}){1,2}$/gi.test(this.c.FeedbackButtonTextColor)?this.c.FeedbackButtonTextColor:"#fff"},enStorage:function(){return!!this.c.EnableUseLocalStorage},lcItem:function(){return this.c.LocalItemName&&String===this.c.LocalItemName.constructor?this.c.LocalItemName:"FTFB_Feedback_FormData"},path:function(){return this.c.URLServer},closeMsg:function(){return/^[1-9]\d{3}$/g.test(this.c.MilisecondsShowMessage)?this.c.MilisecondsShowMessage:2e3},fbMsgPos:function(){return"top"===this.c.FeedbackMessagePosition?"top":"bottom"},fbHeader:function(){return this.c.Headers&&Object===this.c.Headers.constructor?this.c.Headers:{}},fbShow:function(){return!!this.c.FeedbackDefaultShow&&!0===this.c.FeedbackDefaultShow},symm:function(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left";default:return null}}},a=function(){var e=i.fbPosX()+":0;"+i.fbPosY()+":0;z-index:"+i.fbLayer()+";width:"+i.fbWidth()+";height:"+i.fbHeight()+";border:1px solid "+i.fbBdrCor()+";background:"+i.fbBgCor(),t=";background:"+i.fbHBgCor()+";height:"+i.fbHHeight(),n=";color:"+i.fbHTxtCor()+";font-size:"+i.fbHTxtSz(),r=";width:"+i.fbHIcoSz()+";height:"+i.fbHIcoSz(),o=";min-height:"+i.fbFmHeight()+";max-height:"+i.fbFmHeight()+i.fbScrollX()+i.fbScrollY(),a=";border:1px solid "+i.fbTbBdrCor()+";background:"+i.fbTbBgCor(),l=";background:"+i.fbBtnBgCor()+";border:1px solid "+i.fbBtnBgCor()+";color:"+i.fbBtnTxtCor(),u=i.fbMsgPos()+":0;"+i.fbPosX()+":-"+i.fbWidth();return{box:"position:fixed;border-top-left-radius:4px;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;box-sizing:border-box;transition:all ease 0.3s;"+e,head:"position:absolute;cursor:pointer;width:100%;transition:all ease 0.3s"+t,headH2:"line-height:30px;box-sizing:border-box;padding:0 30px;margin:0;"+n,headIcons:"position:absolute;top:0;left:5px;height:30px;width:30px;",headSpanIcon:"margin-top:4px;border:1px solid #fff;border-radius:50%;display:inline-block;position:relative"+r,headIconI:"display:inline-block;width:5px;height:5px;border-right:1px solid #fff;border-bottom:1px solid #fff;top:5px;left:4px;position:absolute;transition:all ease 0.3s",body:"padding:15px;box-sizing:border-box;position:absolute;bottom:0"+o,bodyUl:"list-style:none;margin:0;padding:0;",bodyLiOdd:"margin-bottom:"+i.fbDstRw(),bodyControl:"width:100%;padding:3px 8px;border-radius:4px;outline:0;box-sizing:border-box"+a,bodyButton:"font-weight:bold;padding:5px 15px;margin-right:5px;cursor:pointer;border-radius:4px;outline:0"+l,message:"position:absolute;border:2px solid #b25747;background:rgba(178, 87, 71, 0.2);padding:10px;font-size:12px;font-weight:bold;color:#b25747;width:100%;box-sizing:border-box;transition:all ease 0.3s;"+u}},l=document,u=a.apply(),c=i.lcItem(),s={headClick:!1,buttons:{},controls:{}},f=function(e,t){var n=new XMLHttpRequest;n.open("post",i.path(),!0);var r=i.fbHeader();for(var o in r)n.setRequestHeader(o,r[o]);n.onload=function(){t(n)},n.send(e)},d=function(e,t){var n=s.message;n.innerHTML=e.toString(),"success"===t?(n.style.color="#63b75b",n.style.background="rgba(99, 183, 91, 0.2)",n.style.border="2px solid #63b75b"):(n.style.color="#b25747",n.style.background="rgba(178, 87, 71, 0.2)",n.style.border="2px solid #b25747"),n.style.right=0,setTimeout(function(){n.style.right="-350px"},i.closeMsg())},p={_clearButton:function(){s.form.reset(),i.enStorage()&&T()},_formSubmit:function(e){if(e.preventDefault(),"submit"in s.buttons){s.buttons.submit.disabled=!0;var t=!1,n=new FormData;for(var o in s.controls){if("file"!==s.controls[o].getAttribute("type")){var i=s.controls[o].value.trim();t=t||i.length,n.append(o,i)}else{var a=s.controls[o].files;if(a.length)for(var l=0;l<a.length;++l)n.append(o+"[]",a[l],a[l].name)}}if(t)try{r.BeforeAJAX(n),f(n,function(e){4===e.readyState?(r.AJAXSuccess(e.responseText),p._clearButton()):r.AJAXError(e.responseText),s.buttons.submit.disabled=!1})}catch(e){r.AJAXError("UNKNOWN: "+e.message),s.buttons.submit.disabled=!1}else d("Please enter data"),s.buttons.submit.disabled=!1}}},h=function(e,t,n){e&&("addEventListener"in e?e.addEventListener(t,n):"attachEvent"in e?e.attachEvent("on"+t,n):e["on"+t]=n)},m=function(e,t){var n=l.createElement("div");return e&&String===e.constructor&&n.setAttribute("id",e),t&&String===t.constructor&&n.setAttribute("class",t),n},y=function(){var e=m("ftfb2018");return e.setAttribute("style",u.box),s.box=e,e},b=function(e){var t=s.i,n=t.classList.contains("mini");t.setAttribute("class",n?"maxi":"mini"),t.style.left=n?"6px":"4px",t.style.transform=n?"rotate(135deg)":"rotate(-45deg)"},v=function(e){e&&e.preventDefault();var t=i.fbPosY(),n=i.fbPosX(),r=s.headClick,o="bottom"!==t;s.h2.style.width=r?"100%":"auto",s.box.style[t]=r?0:"-"+i.s(i.fbFmHeight(!0)+1),s.box.style[n]=r?0:"-"+i.s(parseInt(s.h2.clientWidth/2)),s.head.style[t]=o?r?0:null:0,s.head.style[i.symm(t)]=o?r?null:0:null,s.body.style[t]=o?r?null:0:null,s.body.style[i.symm(t)]=o?r?0:null:0,s.icons.style[n]=null;var a="right"===n;s.h2.style.textAlign=a?n:i.symm(n),s.icons.style[i.symm(n)]="5px",s.icons.style[n]=null,s.icons.style.textAlign=a?n:i.symm(n),s.headClick=!r,b.apply()},g=function(){var e=m("ftfb-head");e.setAttribute("style",u.head);var t=l.createElement("h2");t.setAttribute("style",u.headH2),t.innerText="Feedback",s.h2=t;var n=m("ftfb-icons");n.setAttribute("style",u.headIcons),s.icons=n;var r=l.createElement("span");r.setAttribute("class","ftfb-icon"),r.setAttribute("style",u.headSpanIcon);var o=l.createElement("i");return o.setAttribute("style",u.headIconI),s.i=o,b.apply(),r.appendChild(o),n.appendChild(r),e.appendChild(t),e.appendChild(n),h(e,"click",v),s.head=e,e},w=function(){var e=l.createElement("ul");return e.setAttribute("style",u.bodyUl),e},x=function(e,t){var n=l.createElement("li");return t&&String===t.constructor&&n.setAttribute("style",t),e&&n.appendChild(e),n},k=function(e){var t=l.createElement("option");return t.setAttribute("value",e.value),t.innerText=e.text,t},_=function(e,t){for(var n in t)t[n]in p&&h(e,n,p[t[n]])},T=function(){localStorage.removeItem(c)},C=function(){var e={},t=s.controls;for(var n in t){"file"!==t[n].getAttribute("type")&&(e[n]=t[n].value)}localStorage.setItem(c,JSON.stringify(e))},E=function(){var e=localStorage.getItem(c);e&&(e=JSON.parse(e));for(var t in e)t in s.controls&&(s.controls[t].value=e[t])};p.textbox=function(e){var t=l.createElement("input");for(var n in e.attr)t.setAttribute(n,e.attr[n]);t.setAttribute("style",u.bodyControl);var r=e.attr.name||e.attr.id||null;return r&&(s.controls[r]=t),t},p.select=function(e){var t=l.createElement("select");for(var n in e.attr)t.setAttribute(n,e.attr[n]);var r=!0,o=!1,i=void 0;try{for(var a,c=e.opts[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var f=a.value;t.appendChild(k(f))}}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}t.setAttribute("style",u.bodyControl);var d=e.attr.name||e.attr.id||null;return d&&(s.controls[d]=t),t},p.textarea=function(e){var t=l.createElement("textarea");for(var n in e.attr)t.setAttribute(n,e.attr[n]);e.content&&(t.innerHTML=e.content.toString()),t.setAttribute("style",u.bodyControl),t.style.resize="vertical";var r=e.attr.name||e.attr.id||null;return r&&(s.controls[r]=t),t},p.button=function(e){var t=l.createElement("button");for(var n in e.attr)t.setAttribute(n,e.attr[n]);e.value&&(t.innerHTML=e.value),t.setAttribute("style",u.bodyButton),e.events&&_(t,e.events);var r=e.attr.type||null;return r&&(s.buttons[r]=t),t};var S=function(e){var t=l.createElement("label");return t.innerHTML=e,t},P=function(e,t){if(e.name){var n=S(e.name),r=x(n,"margin-bottom:3px;");t.appendChild(r)}var o=null,i=!0,a=!1,l=void 0;try{for(var c,s=e.tags[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var f=c.value;if(f.tag in p){var d=p[f.tag](f);o?o.appendChild(d):o=x(d,u.bodyLiOdd)}}}catch(e){a=!0,l=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw l}}o&&t.appendChild(o)},N=function(){var e=l.createElement("form");e.setAttribute("id","ftfb-form"),e.setAttribute("method","post");var t=w.apply();e.appendChild(t);for(var n in o)P(o[n],t);if(i.enStorage()){var r=s.controls;E();for(var a in r)h(r[a],"keyup",C)}return"_formSubmit"in p&&h(e,"submit",p._formSubmit),s.form=e,e},F=function(){var e=m("ftfb-body");e.setAttribute("style",u.body);var t=N.apply();return e.appendChild(t),s.body=e,e},O=function(){var e=m("ftfb-message");return e.setAttribute("style",u.message),s.message=e,e},A=function(){var e=l.getElementsByTagName("body")[0],t=y.apply(),n=g.apply(),r=F.apply(),o=O.apply();t.appendChild(n),t.appendChild(r),t.appendChild(o),e.appendChild(t),i.fbShow()||v.apply()};h(window,"load",A)